# ============================================
# SNOWFLAKE FILE PROCESSING PIPELINE
# Default Configuration File
# ============================================
# This file contains default settings for deployment.
# To customize, copy to custom.config and modify.

# Snowflake Connection
SNOWFLAKE_CONNECTION=""                # Leave empty to prompt for connection selection
USE_DEFAULT_CONNECTION="true"          # Set to "true" to use default connection without prompting
AUTO_APPROVE="true"                    # Set to "true" to skip deployment confirmation prompt
SNOWFLAKE_ROLE="SYSADMIN"
SNOWFLAKE_WAREHOUSE="COMPUTE_WH"

# Database Configuration
DATABASE_NAME="BORDEREAU_PROCESSING_PIPELINE"
BRONZE_SCHEMA_NAME="BRONZE"
SILVER_SCHEMA_NAME="SILVER"

# Snowpark Container Services Configuration
SERVICE_NAME="BORDEREAU_APP"                    # Name of the SPCS service
COMPUTE_POOL_NAME="BORDEREAU_COMPUTE_POOL"      # Compute pool for the service
REPOSITORY_NAME="BORDEREAU_REPOSITORY"          # Image repository name
SCHEMA_NAME="PUBLIC"                            # Schema for SPCS objects (service, compute pool, repository)

# Container Image Configuration
BACKEND_IMAGE_NAME="bordereau_backend"          # Backend Docker image name
FRONTEND_IMAGE_NAME="bordereau_frontend"        # Frontend Docker image name
IMAGE_TAG="latest"                              # Image tag (use specific versions for production)

# Role Configuration
# Roles will be created as: ${DATABASE_NAME}_ADMIN, ${DATABASE_NAME}_READWRITE, ${DATABASE_NAME}_READONLY
ROLE_ADMIN="${DATABASE_NAME}_ADMIN"
ROLE_READWRITE="${DATABASE_NAME}_READWRITE"
ROLE_READONLY="${DATABASE_NAME}_READONLY"

# Task Configuration
BRONZE_DISCOVERY_SCHEDULE="60 MINUTE"  # How often to scan for new files
SILVER_SENSOR_SCHEDULE="5 MINUTE"      # How often to check for Bronze completion

# Processing Configuration
BATCH_SIZE="10000"                      # Records per batch for Silver transformations
MAX_RETRIES="3"                         # Maximum retry attempts for failed files
RETENTION_DAYS="30"                     # Days to keep files in COMPLETED/ERROR stages

# Deployment Options
DEPLOY_BRONZE="true"
DEPLOY_SILVER="true"
DEPLOY_CONTAINERS="true"               # Set to "true" to automatically deploy to Snowpark Container Services
LOAD_SAMPLE_SCHEMAS="true"  # Set to 'true' to automatically load sample schemas during deployment             # Set to "true" to automatically load sample Silver target schemas
CREATE_SAMPLE_DATA="true"

# Logging
LOG_LEVEL="INFO"                        # DEBUG, INFO, WARNING, ERROR
LOG_DIR="logs"

# Environment
ENVIRONMENT="dev"                       # dev, staging, prod
